<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wellbeing Review Request Form</title>

    <!-- Inline CSS for Styling the Form -->
    <style>
        /* Global styles for body */
        body {
            font-family: "Century Gothic", Arial, sans-serif;
            margin: 20px;
            padding: 0;
            background-color: #f4f4f9;
        }

        /* Flexbox container for logos */
        .logo-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
        }

            /* Styling for both logos */
            .logo-container img {
                max-width: 100%;
                height: auto;
                object-fit: contain;
            }

        .logo {
            width: 45%; /* Set each logo to take up 45% of the available width */
            max-width: 300px; /* Add a max-width to control size on larger screens */
            margin: 0 10px; /* Spacing between the logos */
        }

        /* Styling for headings (title) */
        h1 {
            text-align: center;
            font-size: 28px; /* Adjusted the font size */
            font-weight: bold;
            color: #0392A2; /* Cyan color */
        }

        /* Main form container */
        form {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        /* Labels for the form fields */
        label {
            display: block;
            margin: 10px 0 5px;
            font-size: 18px;
            font-weight: bold;
            color: #0392A2; /* Cyan for field labels */
        }

        /* Styling for text input, email, tel, and textarea */
        input[type="text"],
        input[type="email"],
        input[type="tel"],
        textarea {
            width: 100%;
            padding: 8px;
            margin: 5px 0 20px;
            border-radius: 4px;
            border: 1px solid #ccc;
            font-size: 16px;
        }

        /* Checkbox styling */
        .checkbox-group {
            margin: 10px 0;
        }

        /* Checkbox input style */
        input[type="checkbox"] {
            margin-right: 10px;
        }

        /* Mark required fields with red */
        .required {
            color: red;
        }

        /* Button styling */
        button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #D78223; /* Orange for the submit button */
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }

            /* Button hover effect */
            button:hover {
                background-color: #b06b1a; /* Darker shade of orange for hover */
            }

        /* Style the "Other" contact method field */
        #otherContact {
            display: none;
            font-size: 16px;
        }

        /* Consent statement styling */
        p.consent {
            font-size: 12px;
            font-style: italic;
            color: #333; /* Dark grey for readability */
            line-height: 1.5; /* Increase line height for better readability */
        }

        /* Hyperlink styling */
        a {
            color: #0392A2; /* Cyan color for hyperlink */
            text-decoration: underline;
        }

        /* Responsive design for mobile devices */
        @media (max-width: 600px) {
            form {
                padding: 10px;
            }

            h1 {
                font-size: 22px;
            }

            input[type="text"],
            input[type="email"],
            input[type="tel"],
            textarea {
                font-size: 14px;
            }

            button {
                font-size: 16px;
            }

            p.consent {
                font-size: 10px; /* Adjust font size on smaller screens */
            }
        }
    </style>
</head>
<body>

    <!-- Logo Section -->
    <div class="logo-container">
        <!-- Parents 1st Essex Logo -->
        <img src="https://raw.githubusercontent.com/RCaseyP1st/Wellbeing-Review-Form/master/0ZpzuRHRXvVLxGe06x90smrbd7iaTr8sN7GzfW88.png" alt="Parents 1st Essex Logo" class="logo">
        <!-- Other Half Hub Logo -->
        <img src="https://raw.githubusercontent.com/RCaseyP1st/Wellbeing-Review-Form/master/OHHLogoHoizontal.png" alt="Other Half Hub Logo" class="logo">
    </div>

    <!-- Form Title -->
    <h1>Wellbeing Review Request Form</h1>

    <!-- Form Structure -->
    <form id="wellbeingForm">

        <!-- Name Field -->
        <label for="name">Name: <span class="required">*</span></label>
        <input type="text" id="name" name="name" required>

        <!-- Partner's Name Field -->
        <label for="partnerName">Partner's Name: <span class="required">*</span></label>
        <input type="text" id="partnerName" name="partnerName" required>

        <!-- Email Field -->
        <label for="email">Email Address: <span class="required">*</span></label>
        <input type="email" id="email" name="email" required>

        <!-- Postcode Field -->
        <label for="postcode">Postcode: <span class="required">*</span></label>
        <input type="text" id="postcode" name="postcode" required>

        <!-- Phone Number Field -->
        <label for="phone">Phone Number: <span class="required">*</span></label>
        <input type="tel" id="phone" name="phone" required>

        <!-- Preferred Method of Contact -->
        <label>Preferred Method of Contact:</label>
        <div class="checkbox-group">
            <input type="checkbox" name="contactMethod" value="Phone Call"> Phone Call
            <input type="checkbox" name="contactMethod" value="Microsoft Teams"> Microsoft Teams
            <input type="checkbox" name="contactMethod" value="Zoom"> Zoom
            <input type="checkbox" name="contactMethod" value="Other"> Other (Please specify)
        </div>
        <textarea id="otherContact" placeholder="If other, please specify"></textarea>

        <!-- Consent Statement -->
        <p><strong>Consent Statement:</strong></p>
        <p class="consent">
            Are you happy for us to store the information we may talk about? We will look after any personal information that is shared with us.
            This is central to our values as an organisation. We want everyone who interacts with us to feel confident about how any personal information they share will be looked after or used. <br><br>

            You can be confident that: <br>
            • We only use personal information in the ways we need to, that is expected of us and that we have a lawful basis for. <br>
            • We respect the rights you have as an individual by having procedures in place to protect these. <br>
            • We will make it easy for you to tell us how you want us to communicate with you, including how to opt out from future communications, rectify inaccurate data or request access—and your request will be respected in a timely manner. <br>
            • We will never release your information to organisations outside Parents 1st for their marketing purposes. <br>
            • We take all reasonable care to safeguard your personal information through security policies and secure business processes. <br>
            • We will provide easy ways for you to contact us. We are always happy to answer any queries you have, at any time. <br><br>

            We will need to store the information you have given us today securely on our computer system or on paper. <br><br>

            We will need to use the information in order to recommend resources and services we think might benefit you the most. <br><br>

            How we share and store your personal information <br>
            • Your Wellbeing Coordinator will record and store information about you and the support you are receiving. This will be done using a code to protect your identity and your personal details will be stored separately. <br>
            • Your Wellbeing Coordinator will share information on a regular basis with their supervisor so as to help us provide you with the best possible service. <br>
            • For monitoring and evaluation, we may share information with partner organisations and those who provide the funding. You will not be identified by name and only numbers and statistics are given. The only exception to this is that we may provide the NHS with information that does identify you, and your baby via your NHS number. <br>
            • In any other circumstances, we will ask for your consent before we share any personal information about you or your family and tell you that we are going to do so. <br>
            • We will not ask for your consent and may not inform you that we are going to share information if there is a risk of significant or serious harm to a child or adult or if it is in the public interest not to do so. <br><br>

            If you would like more information about our confidentiality, data protection, and information sharing policies and procedures, please let us know. <br><br>

            <a href="https://www.dropbox.com/scl/fi/zgsch7s77gtat9g19bntw/Information-Sharing-Agreement-Essex-Peer-to-Parent-Network.docx?rlkey=m1bahd0u8a63j6tqpz4pknry4&st=58fot45o&dl=0">
                Parents 1st - Information Sharing Agreement
            </a> <br><br>

            Please confirm that you understand how the information you have given us will be used, shared, and stored by us and that you give your consent for this by checking the box below.
        </p>

        <!-- Consent Checkbox -->
        <label><input type="checkbox" id="consent" name="consent" required> I give consent <span class="required">*</span></label>

        <!-- Submit Button -->
        <button type="submit">Submit</button>
    </form>

    <!-- JavaScript Section -->
    <script>
        // Event listener to dynamically show "Other" contact method text area
        document.querySelector('input[value="Other"]').addEventListener('change', function () {
            document.getElementById('otherContact').style.display = this.checked ? 'block' : 'none';
        });

        // Form Validation and Submission
        document.getElementById('wellbeingForm').addEventListener('submit', function (event) {
            event.preventDefault(); // Prevent form from submitting the usual way

            // Capture form field values
            const name = document.getElementById('name').value;
            const partnerName = document.getElementById('partnerName').value;
            const email = document.getElementById('email').value;
            const postcode = document.getElementById('postcode').value;
            const phone = document.getElementById('phone').value;
            const consent = document.getElementById('consent').checked;

            // Check if consent is given
            if (consent) {
                // Send Data to Airtable via API
                fetch('https://api.airtable.com/v0/YOUR_BASE_ID/YOUR_TABLE_NAME', {
                    method: 'POST',
                    headers: {
                        'Authorization': 'Bearer YOUR_API_KEY',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        fields: {
                            'Name': name,
                            'Partner Name': partnerName,
                            'Email': email,
                            'Postcode': postcode,
                            'Phone': phone,
                            'Consent': consent
                        }
                    })
                })
                    .then(response => response.json())
                    .then(data => {
                        console.log('Success:', data);
                        alert("Form submitted successfully!");
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        alert("There was an error submitting the form.");
                    });
            } else {
                // Alert if the consent checkbox is not checked
                alert("Please give consent before submitting.");
            }
        });
    </script>

</body>
</html>
